
<launch>
  <!-- Start Gazebo simulator -->
  <include file="$(find-pkg-share ros_gz_sim)/launch/gz_sim.launch.py">
    <arg name="gz_args" value="$(find-pkg-share rosplane2_sim)/worlds/fixedwing_world.sdf"/>
  </include>

  <!-- Spawn MAV -->
  <!-- <node name="spawn_mav" pkg="ros_gz_sim" exec="create"
    args="-file $(find-pkg-share rosplane2_sim)/Aircraft/fixedwing.sdf"
    respawn="false" output="screen">
  </node> -->

  <!-- Start ROS-GZ-Bridge -->
  <node name="ros_gz_bridge" pkg="ros_gz_bridge" exec="parameter_bridge"
    args="--ros-args -p config_file:=$(find-pkg-share rosplane2_sim)/launch/bridge_setup.yaml"
    respawn="false" output="screen">
  </node>

  <node name="gzMomentMover" pkg="rosplane2_sim" exec="entity_wrench_pub" respawn="false" output="screen">

  </node>
  
  <!-- Launch Nodes -->
  <node name= "truth_pub" pkg="rosplane2" exec="rosplane2_truth_publisher"/>
  <node name="autopilot" pkg="rosplane2" exec="rosplane2_controller"/>
  <!--<node name="pathfollower" pkg="rosplane2" exec="rosplane2_path_follower"/>
  <node name="pathmanager" pkg="rosplane2" exec="rosplane2_path_manager"/>
  <node name="pathplanner" pkg="rosplane" exec="rosplane2_path_planner"/>
  -->


</launch>
